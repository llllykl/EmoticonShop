<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.mapper.MemberMapper">
	<select id="getList" resultType="kr.co.domain.MemberDTO">
		select * from member where m_no > 0
	</select>
	<insert id="insertSelectKey">
		<selectKey keyProperty="m_no" order="BEFORE" resultType="Long">
			select MAX(m_no)+1 from member
		</selectKey>
		insert into member(m_no, m_id, m_pw, m_name, m_email, m_point, m_access) 
		values (#{m_no},#{m_id},#{m_pw},#{m_name},#{m_email},#{m_point},#{m_access})
	</insert>
	<select id="read" resultType="kr.co.domain.MemberDTO">
		select * from member where m_no=#{m_no}
	</select>
	<delete id="delete">
		delete from member where m_no=#{m_no}
	</delete>
	<update id="update">
		update member set m_id=#{m_id}, m_pw=#{m_pw}, m_name=#{m_name},
		m_email=#{m_email},m_point=#{m_point}, m_access=#{m_access} where m_no=#{m_no}
	</update>
	
	<!-- 로그인 -->
	<select id="memberLogin" resultType="kr.co.domain.MemberDTO">
		select * from member where m_id=#{m_id} and m_pw=#{m_pw}
	</select>
</mapper>
